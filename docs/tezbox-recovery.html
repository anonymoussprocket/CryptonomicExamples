<html>
    <head>
        <script src="https://cdn.jsdelivr.net/gh/cryptonomic/conseiljs-softsigner/dist-web/conseiljs-softsigner.min.js"
            integrity="sha384-aQb9FFn6CZkolxC8jtsj1vhKOQtU8QWXJKN+h1PDNjdd0ml6C4r772YuB0gfNwD4"
            crossorigin="anonymous"></script>
        <script>
            async function generate() {
                const mnemonic = document.forms[0].elements.mnemonic.value;
                const keyStore = await conseiljssoftsigner.KeyStoreUtils.restoreIdentityFromMnemonic(mnemonic.split(' ').join(''), '', undefined, undefined, false);
                document.getElementById('pkh').innerHTML = keyStore.publicKeyHash;
                document.getElementById('sk').innerHTML = keyStore.secretKey;
            }
        </script>
    </head>
    <body>
        <h1>Tezos address generator</h1>
        <h2>Use at your own risk!</h2>
        <h3>Never share your mnemonic or secret key!</h3>
        <p>
            This code runs locally. View source to find the ConseilJS call involved in generating the keys. This was written as an attempt to help those unable to recover their secret keys from Tezbox. This page <em>may help</em>, it also might not. Please compare the generated tz1 address to the one you're seeing in Tezbox. If the addresses match you can import the account into the <a href="https://github.com/Cryptonomic/Deployments/wiki/Galleon:-Releases">Galleon Wallet</a> after creating a new file wallet and adding the account using the secret key. Please follow the instructions in <a href="https://www.youtube.com/watch?v=fLnOcezCZU0&t=16">this video</a> If the addresses do not match, this process will not work for you.
        </p>
        <pre>
            const keyStore = await conseiljssoftsigner.KeyStoreUtils.restoreIdentityFromMnemonic(mnemonic.split(' ').join(''), '', undefined, undefined, false);
        </pre>
        <form>
            <div>
                <label for="mnemonic">Mnemonic</label>
                <input type="text" name="mnemonic" value="boss wheat grain chuckle essence sketch stem high oak artefact vessel husband bitter false adult">
            </div>
            <div>
                <button onClick="generate(); return false;">Generate</button>
            </div>
        </form>
        <div id="pkh"></div>
        <div id="sk"></div>
    </body>
</html>
